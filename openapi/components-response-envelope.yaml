components:
  schemas:
    ResponseEnvelope:
      type: object
      properties:
        request_id:
          type: string
          example: "req_20251103_abcd"
        timestamp:
          type: string
          format: date-time
          example: "2025-11-03T02:00:00Z"
        code:
          type: string
          example: "OK"
        message:
          type: string
          example: "成功"
        payload:
          type: object
          description: "各 endpoint 用各自的 payload schema 覆蓋或合併"
        meta:
          nullable: true
          type: object
          example: null
        errors:
          nullable: true
          type: array
          items:
            type: object
            properties:
              field:
                type: string
                nullable: true
              reason:
                type: string
            example:
              field: "amount"
              reason: "必須是正數"
          example: null
      required:
        - request_id
        - timestamp
        - code
        - message